<div class="layout-wrapper d-lg-flex">
  <div class="side-menu flex-lg-column me-lg-1" *ngIf="!hideMenu">
    <!-- LOGO -->
    <div class="navbar-brand-box">
      <a routerLink="/" class="logo logo-dark">
        <span class="logo-sm">
          <img src="https://seekop.com/wp-content/uploads/2019/01/cropped-op1-192x192.png" alt="Seekop" height="50">
        </span>
      </a>

      <a routerLink="/" class="logo logo-light">
        <span class="logo-sm">
          <img src="https://seekop.com/wp-content/uploads/2019/01/cropped-op1-192x192.png" alt="Seekop" height="50">
        </span>
      </a>
    </div>
    <!-- end navbar-brand-box -->

    <!-- Start side-menu nav -->
    <div class="flex-lg-column my-auto">
      <ul class="nav nav-pills side-menu-nav justify-content-center" role="tablist">
        <li class="nav-item" ngbTooltip="Perfil">
          <a class="nav-link" id="pills-user-tab" (click)="showTabMetodos('1')" (click)="activetab=1"
            href="javascript: void(0);" [ngClass]="{'active': activetab === 1}">
            <i class="ri-profile-line"></i>
          </a>
        </li>
        <li class="nav-item" ngbTooltip="Conversaciones">
          <a class="nav-link active" id="pills-chat-tab" (click)="showTabMetodos('2')" (click)="activetab=2"
            href="javascript: void(0);" [ngClass]="{'active': activetab === 2}">
            <i class="ri-wechat-fill"></i>
          </a>
        </li>
        <li class="nav-item" ngbTooltip="Distribuidores">
          <a class="nav-link pills-groups-tab" id="pills-groups-tab" (click)="showTabMetodos('3')" (click)="activetab=3"
            href="javascript: void(0);" [ngClass]="{'active': activetab === 3}">
            <i class="ri-shield-flash-fill"></i>
          </a>
        </li>
        <li class="nav-item" ngbTooltip="Redes Sociales" placement="top">
          <a class="nav-link" id="pills-contacts-tab" (click)="showTabMetodos('4')" (click)="activetab=4"
            href="javascript: void(0);" [ngClass]="{'active': activetab === 4}">
            <i class="ri-chat-heart-line"></i>
          </a>
        </li>

        <!-- <li class="nav-item" ngbTooltip="Configuraciones">
          <a class="nav-link" id="pills-setting-tab" (click)="activetab=5" href="javascript: void(0);"
            [ngClass]="{'active': activetab === 5}">
            <i class="ri-settings-2-line"></i>
          </a>
        </li> -->

        <li class="nav-item" ngbTooltip="Distribuidores redes sociales" placement="top">
          <a class="nav-link" id="pills-redessocialesusuarios-tab" (click)="showTabMetodos('6')" (click)="activetab=6"
            href="javascript: void(0);" [ngClass]="{'active': activetab === 6}">
            <i class="ri-user-2-fill"></i>
          </a>
        </li>

        <li class="nav-item" ngbTooltip="MÃ©todos" placement="top">
          <a class="nav-link" id="pills-contacts-tab" (click)="showTabMetodos('7')" (click)="activetab=7"
            href="javascript: void(0);" [ngClass]="{'active': activetab === 7}">
            <i class="ri-tools-fill"></i>
          </a>
        </li>

        <li class="nav-item" ngbTooltip="Publicaciones" placement="top">
          <a class="nav-link" id="pills-contacts-tab" (click)="showTabMetodos('9')" (click)="activetab=9"
            href="javascript: void(0);" [ngClass]="{'active': activetab === 9}">
            <i class="ri-edit-fill"></i>
          </a>
        </li>



        <li class="nav-item dropdown profile-user-dropdown d-inline-block d-lg-none" ngbDropdown placement="top">
          <a class="nav-link dropdown-toggle" href="javascript: void(0);" role="button" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false" ngbDropdownToggle>
            <img src="assets/images/users/avatar-1.jpg" alt="" class="profile-user rounded-circle">
          </a>
          <div class="dropdown-menu" ngbDropdownMenu>
            <a class="dropdown-item" href="javascript:void(0);">{{'chat.profiledropdown.profile' | translate }} <i
                class="ri-profile-line float-end text-muted"></i></a>
            <a class="dropdown-item" href="javascript:void(0);">{{'chat.profiledropdown.setting' | translate }} <i
                class="ri-settings-3-line float-end text-muted"></i></a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="javascript: void(0);" (click)="logout()">{{'chat.profiledropdown.logout' |
              translate}} <i class="ri-logout-circle-r-line float-end text-muted"></i></a>
          </div>
        </li>
      </ul>
    </div>
    <!-- end side-menu nav -->

    <div class="flex-lg-column d-none d-lg-block">
      <ul class="nav side-menu-nav justify-content-center">

        <!-- <li class="nav-item btn-group dropup profile-user-dropdown" ngbDropdown placement="top-left">
          <a class="nav-link dropdown-toggle" href="javascript:void(0);" role="button" ngbDropdownToggle
            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="ri-global-line"></i>
          </a>
          <div class="dropdown-menu" ngbDropdownMenu>
            <a class="dropdown-item" *ngFor="let item of listLang" (click)="setLanguage(item.lang)"
              [ngClass]="{'active': lang === item.lang}" href="javascript: void(0);">
              <img src="{{item.flag}}" alt="user-image" class="me-1" height="12"> <span
                class="align-middle">{{item.text}}</span>
            </a>
          </div>
        </li> -->

        <!-- <li class="nav-item">
          <a class="nav-link" id="light-dark" href="javascript:void(0);" ngbTooltip="Light Mode">
            <i class="ri-sun-line theme-mode-icon layout-mode-dark" (click)="changeMode('dark')"></i>
            <i class="ri-sun-line theme-mode-icon layout-mode-light" (click)="changeMode('light')"></i>
          </a>
        </li> -->

        <li class="nav-item btn-group dropup profile-user-dropdown" ngbDropdown placement="top-left">
          <a class="nav-link dropdown-toggle" href="javascript:void(0);" role="button" ngbDropdownToggle
            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <img src="assets/images/users/avatar-1.jpg" alt="" class="profile-user rounded-circle">
          </a>
          <div class="dropdown-menu" ngbDropdownMenu>
            <a class="dropdown-item" href="javascript:void(0);">{{'chat.profiledropdown.profile' | translate}} <i
                class="ri-profile-line float-end text-muted"></i></a>
            <a class="dropdown-item" href="javascript:void(0);">{{'chat.profiledropdown.setting' | translate}} <i
                class="ri-settings-3-line float-end text-muted"></i></a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="javascript: void(0);" (click)="logout()">{{'chat.profiledropdown.logout' |
              translate}} <i class="ri-logout-circle-r-line float-end text-muted"></i></a>
          </div>
        </li>
      </ul>
    </div>
    <!-- Side menu user -->
  </div>
  <!-- start chat-leftsidebar -->
  <div class="chat-leftsidebar me-lg-1">
    <div class="tab-content">
      <!-- Start Profile tab-pane -->
      <div id="pills-user" role="tabpanel" aria-labelledby="pills-user-tab" *ngIf="activetab === 1">
        <app-profile></app-profile>
      </div>
      <!-- End Profile tab-pane-->

      <!-- Start chats tab-pane -->
      <div id="pills-chat" role="tabpanel" aria-labelledby="pills-chat-tab" *ngIf="activetab === 2">
        <!-- Start chats content -->
        <div>

          <div class="px-4 pt-4">
            <h4 class="mb-4">Conversaciones</h4>
            <div class="search-box chat-search-box">
              <div class="input-group mb-3 rounded-3">
                <span class="input-group-text text-muted bg-light pe-1 ps-3" id="basic-addon1">
                  <i class="ri-search-line search-icon font-size-18"></i>
                </span>
                <input type="text" class="form-control bg-light" placeholder="Buscar mensajes"
                  aria-label="Search messages or users" aria-describedby="basic-addon1" (keyup)="ContactSearch()"
                  id="searchContact" autocomplete="off">
              </div>
            </div>
          </div> <!-- .p-4 -->

          <!-- Start user status -->
          <!-- <div class="px-4 pb-4" dir="ltr">
            <owl-carousel-o [options]="customOptions">
              <ng-template carouselSlide>
                <div class="item">
                  <a href="javascript:void(0);" class="user-status-box">
                    <div class="avatar-xs mx-auto d-block chat-user-img online">
                      <img src="assets/images/users/avatar-2.jpg" alt="user-img" class="img-fluid rounded-circle">
                      <span class="user-status"></span>
                    </div>

                    <h5 class="font-size-13 text-truncate mt-3 mb-1">{{'chat.tabs.chats.users.1' | translate}}</h5>
                  </a>
                </div>
              </ng-template>
              <ng-template carouselSlide>
                <div class="item">
                  <a href="javascript:void(0);" class="user-status-box">
                    <div class="avatar-xs mx-auto d-block chat-user-img online">
                      <img src="assets/images/users/avatar-4.jpg" alt="user-img" class="img-fluid rounded-circle">
                      <span class="user-status"></span>
                    </div>

                    <h5 class="font-size-13 text-truncate mt-3 mb-1">{{'chat.tabs.chats.users.2' | translate}}</h5>
                  </a>
                </div>
              </ng-template>
              <ng-template carouselSlide>
                <div class="item">
                  <a href="javascript:void(0);" class="user-status-box">
                    <div class="avatar-xs mx-auto d-block chat-user-img online">
                      <img src="assets/images/users/avatar-5.jpg" alt="user-img" class="img-fluid rounded-circle">
                      <span class="user-status"></span>
                    </div>

                    <h5 class="font-size-13 text-truncate mt-3 mb-1">{{'chat.tabs.chats.users.3' | translate}}</h5>
                  </a>
                </div>
              </ng-template>
              <ng-template carouselSlide>
                <div class="item">
                  <a href="javascript:void(0);" class="user-status-box">
                    <div class="avatar-xs mx-auto d-block chat-user-img online">
                      <img src="assets/images/users/avatar-6.jpg" alt="user-img" class="img-fluid rounded-circle">
                      <span class="user-status"></span>
                    </div>

                    <h5 class="font-size-13 text-truncate mt-3 mb-1">{{'chat.tabs.chats.users.4' | translate}}</h5>
                  </a>
                </div>
              </ng-template>
              <ng-template carouselSlide>
                <div class="item">
                  <a href="javascript:void(0);" class="user-status-box">
                    <div class="avatar-xs mx-auto d-block chat-user-img online">
                      <span class="avatar-title rounded-circle bg-soft-primary text-primary">
                        T
                      </span>
                      <span class="user-status"></span>
                    </div>

                    <h5 class="font-size-13 text-truncate mt-3 mb-1">{{'chat.tabs.chats.users.5' | translate}}</h5>
                  </a>
                </div>
              </ng-template>

            </owl-carousel-o>


          </div> -->
          <!-- end user status -->

          <!-- Start chat-message-list -->
          <div class="px-2">
            <h5 class="mb-3 px-3 font-size-16">Recientes</h5>
            <button type="button" class="btn nav-btn" (click)="vistaPorDistribuidor = !vistaPorDistribuidor">
              <i class="ri-shuffle-line"></i>
              {{ vistaPorDistribuidor ? 'Ver por Red Social' : 'Ver por Distribuidor' }}
            </button>


            <perfect-scrollbar class="chat-message-list">
              <ul class="list-unstyled chat-list chat-user-list">

                <!-- Vista por Red Social -->
                <ng-container *ngIf="!vistaPorDistribuidor">
                  <ng-container *ngFor="let redSocial of chatByRedSocial | keyvalue">


                    <div class="p-3 font-weight-bold text-primary">
                      <i class="ri-hand-coin-fill"></i>&nbsp;&nbsp;{{ redSocial.key }}
                    </div>

                    <ng-container *ngFor="let group of redSocial.value | keyvalue">


                      <div class="p-3 font-weight-bold text-info">

                        <i class="ri-share-line"></i>&nbsp;&nbsp;{{ group.key }}
                      </div>
                      <li *ngFor="let user of group.value" [ngClass]="{'typing': user.isTyping}"
                        (click)="showChat($event, user.ultimoMensaje['id'])">
                        <!-- CÃ³digo que muestra la informaciÃ³n del usuario y sus mensajes -->
                        <a href="javascript:void(0);">
                          <div class="d-flex">
                            <div class="chat-user-img online align-self-center me-3 ms-0" [ngClass]="online">
                              <img *ngIf="user.profilePicture" src="{{user.profilePicture}}"
                                class="rounded-circle avatar-xs" alt="">
                              <div class="avatar-xs" *ngIf="!user.profilePicture">
                                <span class="avatar-title rounded-circle bg-soft-primary text-primary">
                                  {{(user.Nombre | translate).charAt(0)}}
                                </span>
                              </div>
                              <span *ngIf="user" class="user-status"></span>
                            </div>
                            <div class="flex-grow-1 overflow-hidden">
                              <h5 class="text-truncate font-size-15 mb-1">{{user.Nombre | translate}}</h5>
                              <p *ngIf="user.isTyping" class="chat-user-message text-truncate mb-0">typing
                                <span class="animate-typing">
                                  <span class="dot ms-1"></span>
                                  <span class="dot ms-1"></span>
                                  <span class="dot ms-1"></span>
                                </span>
                              </p>
                              <div style="display: flex; justify-content: space-between; align-items: center;">
                                <p class="chat-user-message text-truncate mb-0"
                                  *ngIf="getLastMessage(user.Conversacion)?.ultimoMensaje"
                                  style="flex: 1; margin-right: 20px;">
                                  {{getLastMessage(user.Conversacion)?.texto}}
                                </p>
                                <div class="unread-message" style="margin-left: 20px;">
                                  <span class="badge badge-soft-danger rounded-pill" *ngIf="user.unreadCount">
                                    {{user.unreadCount}}
                                  </span>
                                </div>
                              </div>
                            </div>
                            <div class="font-size-11">{{user.time | translate}}</div>
                          </div>
                        </a>
                      </li>
                    </ng-container>
                  </ng-container>
                </ng-container>

                <!-- Vista por Distribuidor -->
                <ng-container *ngIf="vistaPorDistribuidor">
                  <ng-container *ngFor="let distribuidorGroup of chatByDistributorThenRedSocial | keyvalue">
                    <div class="p-3 font-weight-bold text-primary">
                      <i class="ri-hand-coin-fill"></i>&nbsp;&nbsp;{{ distribuidorGroup.key }}
                    </div> 
                    <ng-container *ngFor="let redSocialGroup of distribuidorGroup.value | keyvalue">
                      <!-- <div class="p-3 font-weight-bold text-info">
                        <i class="ri-share-line"></i>&nbsp;&nbsp;{{ redSocialGroup.key }}
                      </div> -->
                      <div *ngIf="redSocialGroup.key=='Facebook'" class="p-3 font-weight-bold text-info">             
                        <img src="https://logodownload.org/wp-content/uploads/2014/09/facebook-logo-0.png" height="20" width="20" alt="Facebook" class="rounded-circle avatar-xs img-thumbnail">
                        &nbsp;&nbsp;{{ redSocialGroup.key }}
                      </div>
                      <div *ngIf="redSocialGroup.key=='Instagram'" class="p-3 font-weight-bold text-info">
                        <img _ngcontent-txw-c34="" src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/Instagram_logo_2016.svg/2048px-Instagram_logo_2016.svg.png" alt="Instagram" class="rounded-circle avatar-xs img-thumbnail">
                        
                        &nbsp;&nbsp;{{ redSocialGroup.key }}
                      </div>

                      <div *ngIf="redSocialGroup.key=='Mercado Libre'" class="p-3 font-weight-bold text-info">
                        <img _ngcontent-cbu-c34="" src="https://www.eleconomista.com.mx/__export/1660698219457/sites/eleconomista/img/2022/08/16/mercado_libre_4.jpg_1276653675.jpg" alt="Mercado Libre" class="rounded-circle avatar-xs img-thumbnail">
                        
                        &nbsp;&nbsp;{{ redSocialGroup.key }}
                      </div>
                      
                      <div *ngIf="redSocialGroup.key=='Youtube'" class="p-3 font-weight-bold text-info">
                        <img _ngcontent-djh-c34="" src="https://w7.pngwing.com/pngs/982/799/png-transparent-youtube-logo-youtube-logo-internet-marketing-subscribe-television-label-text.png" alt="Pinterest" class="rounded-circle avatar-xs img-thumbnail">
                        &nbsp;&nbsp;{{ redSocialGroup.key }}
                      </div>

                      <div *ngIf="redSocialGroup.key=='Pinterest'" class="p-3 font-weight-bold text-info">
                      <img _ngcontent-djh-c34="" src="https://upload.wikimedia.org/wikipedia/commons/0/08/Pinterest-logo.png" alt="Pinterest" class="rounded-circle avatar-xs img-thumbnail">
                      &nbsp;&nbsp;{{ redSocialGroup.key }}
                    </div>

                      <div *ngIf="redSocialGroup.key=='TikTok'" class="p-3 font-weight-bold text-info">
                        <img _ngcontent-elt-c34="" src="https://cdn.pixabay.com/photo/2021/01/30/06/42/tiktok-5962992_640.png" alt="Tiktok" class="rounded-circle avatar-xs img-thumbnail">
                        &nbsp;&nbsp;{{ redSocialGroup.key }}
                      </div>

                    

                      <li *ngFor="let user of redSocialGroup.value" [ngClass]="{'typing': user.isTyping}"
                        (click)="showChat($event, user.ultimoMensaje['id'])">
                        <a href="javascript:void(0);">
                          <div class="d-flex">
                            <div class="chat-user-img online align-self-center me-3 ms-0" [ngClass]="online">
                              <img *ngIf="user.profilePicture" src="{{user.profilePicture}}"
                                class="rounded-circle avatar-xs" alt="">
                              <div class="avatar-xs" *ngIf="!user.profilePicture">
                                <span class="avatar-title rounded-circle bg-soft-primary text-primary">
                                  {{(user.Nombre | translate).charAt(0)}}
                                </span>
                              </div>
                              <span *ngIf="user" class="user-status"></span>
                            </div>
                            <div class="flex-grow-1 overflow-hidden">
                              <h5 class="text-truncate font-size-15 mb-1">{{user.Nombre | translate}}</h5>
                              <p *ngIf="user.isTyping" class="chat-user-message text-truncate mb-0">typing<span
                                  class="animate-typing">
                                  <span class="dot ms-1"></span>
                                  <span class="dot ms-1"></span>
                                  <span class="dot ms-1"></span>
                                </span></p>
                              <div style="display: flex; justify-content: space-between; align-items: center;">
                                <p class="chat-user-message text-truncate mb-0"
                                  *ngIf="getLastMessage(user.Conversacion)?.ultimoMensaje"
                                  style="flex: 1; margin-right: 20px;">
                                  {{getLastMessage(user.Conversacion)?.texto}}
                                </p>
                                <div class="unread-message" style="margin-left: 20px;">
                                  <span class="badge badge-soft-danger rounded-pill" *ngIf="user.unreadCount">
                                    {{user.unreadCount}}
                                  </span>
                                </div>
                              </div>
                            </div>
                            <div class="font-size-11">{{user.time | translate}}</div>
                          </div>
                        </a>
                      </li>
                    </ng-container>
                  </ng-container>
                </ng-container>


              </ul>
            </perfect-scrollbar>


          </div>
          <!-- End chat-message-list -->
        </div>
        <!-- Start chats content -->
      </div>
      <!-- End chats tab-pane -->

      <!-- Start groups tab-pane -->
      <div id="pills-groups" role="tabpanel" aria-labelledby="pills-groups-tab" *ngIf="activetab === 3">
        <!-- Start Groups content -->
        <div>
          <div class="p-4">
            <div class="user-chat-nav float-end">
              <!-- <div ngbTooltip="Crear grupo">

                <button type="button" class="btn btn-link text-decoration-none text-muted font-size-18 py-0"
                  data-toggle="modal" data-target="#addgroup-exampleModal" (click)="openGroupModal(content)">
                  <i class="ri-group-line me-1"></i>
                </button>
              </div> -->
            </div>
            <h4 class="mb-4">Distribuidores Asignados</h4>

            <!-- Start add group Modal -->
            <ng-template #content let-modal>
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title font-size-16" id="addgroup-exampleModalLabel">
                    Asociar nuevo distribuidor</h5>
                  <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"
                    (click)="modal.dismiss('Cross click')">
                  </button>
                </div>
                <div class="modal-body p-4">
                  <form>
                    <div class="mb-4">
                      <label class="form-label" for="addgroupname-input">Nombre del grupo</label>
                      <input type="text" class="form-control" id="addgroupname-input"
                        placeholder="{{'chat.tabs.groups.modal.form.name.placeholder' | translate}}">
                    </div>
                    <div class="mb-4">
                      <label class="form-label">Redes sociales del grupo</label>
                      <div class="mb-3">
                        <button class="btn btn-light btn-sm" type="button" data-toggle="collapse"
                          (click)="collapse.toggle()" [attr.aria-expanded]="!isCollapsed"
                          aria-controls="collapseExample">
                          Seleccionar redes sociales
                        </button>
                      </div>

                      <div class="collapse" id="groupmembercollapse" #collapse="ngbCollapse"
                        [(ngbCollapse)]="isCollapsed">
                        <div class="card border">
                          <div class="card-header">
                            <h5 class="font-size-15 mb-0">Redes Sociales</h5>
                          </div>
                          <div class="card-body p-2">
                            <perfect-scrollbar data-simplebar style="height: 150px;">
                              <div>
                                <div class="p-3 font-weight-bold text-primary">
                                  {{'chat.tabs.contacts.list.A.text' | translate}}
                                </div>

                                <ul class="list-unstyled contact-list">
                                  <li>
                                    <div class="form-check">
                                      <input type="checkbox" class="form-check-input" id="memberCheck1" checked="">
                                      <label class="form-check-label"
                                        for="memberCheck1">{{'chat.tabs.contacts.list.A.name' | translate}}</label>
                                    </div>
                                  </li>
                                  <li>
                                    <div class="form-check">
                                      <input type="checkbox" class="form-check-input" id="memberCheck2">
                                      <label class="form-check-label"
                                        for="memberCheck2">{{'chat.tabs.contacts.list.A.name2' | translate}}</label>
                                    </div>
                                  </li>
                                </ul>
                              </div>

                              <div>
                                <div class="p-3 font-weight-bold text-primary">
                                  {{'chat.tabs.contacts.list.C.text' | translate}}
                                </div>

                                <ul class="list-unstyled contact-list">
                                  <li>
                                    <div class="form-check">
                                      <input type="checkbox" class="form-check-input" id="memberCheck3">
                                      <label class="form-check-label" for="memberCheck3">
                                        {{'chat.tabs.contacts.list.C.name' | translate}}</label>
                                    </div>
                                  </li>
                                </ul>
                              </div>

                              <div>
                                <div class="p-3 font-weight-bold text-primary">
                                  {{'chat.tabs.contacts.list.D.text' | translate}}
                                </div>

                                <ul class="list-unstyled contact-list">
                                  <li>
                                    <div class="form-check">
                                      <input type="checkbox" class="form-check-input" id="memberCheck4">
                                      <label class="form-check-label" for="memberCheck4">
                                        {{'chat.tabs.contacts.list.D.name' | translate}}</label>
                                    </div>
                                  </li>
                                </ul>
                              </div>

                              <div>
                                <div class="p-3 font-weight-bold text-primary">
                                  {{'chat.tabs.contacts.list.I.text' | translate}}
                                </div>

                                <ul class="list-unstyled contact-list">
                                  <li>
                                    <div class="form-check">
                                      <input type="checkbox" class="form-check-input" id="memberCheck5">
                                      <label class="form-check-label" for="memberCheck5">
                                        {{'chat.tabs.contacts.list.I.name' | translate}}</label>
                                    </div>
                                  </li>

                                </ul>
                              </div>

                              <div>
                                <div class="p-3 font-weight-bold text-primary">
                                  {{'chat.tabs.contacts.list.J.text' | translate}}
                                </div>

                                <ul class="list-unstyled contact-list">
                                  <li>
                                    <div class="form-check">
                                      <input type="checkbox" class="form-check-input" id="memberCheck6">
                                      <label class="form-check-label"
                                        for="memberCheck6">{{'chat.tabs.contacts.list.J.name' | translate}}</label>
                                    </div>
                                  </li>

                                  <li>
                                    <div class="form-check">
                                      <input type="checkbox" class="form-check-input" id="memberCheck7">
                                      <label class="form-check-label"
                                        for="memberCheck7">{{'chat.tabs.contacts.list.J.name2' | translate}}</label>
                                    </div>
                                  </li>

                                  <li>
                                    <div class="form-check">
                                      <input type="checkbox" class="form-check-input" id="memberCheck8">
                                      <label class="form-check-label"
                                        for="memberCheck8">{{'chat.tabs.contacts.list.J.name3' | translate}}</label>
                                    </div>
                                  </li>

                                </ul>
                              </div>

                              <div>
                                <div class="p-3 font-weight-bold text-primary">
                                  {{'chat.tabs.contacts.list.M.text' | translate}}
                                </div>

                                <ul class="list-unstyled contact-list">
                                  <li>
                                    <div class="form-check">
                                      <input type="checkbox" class="form-check-input" id="memberCheck9">
                                      <label class="form-check-label"
                                        for="memberCheck9">{{'chat.tabs.contacts.list.M.name' | translate}}</label>
                                    </div>
                                  </li>

                                  <li>
                                    <div class="form-check">
                                      <input type="checkbox" class="form-check-input" id="memberCheck10">
                                      <label class="form-check-label"
                                        for="memberCheck10">{{'chat.tabs.contacts.list.M.name2' | translate}}</label>
                                    </div>
                                  </li>

                                </ul>
                              </div>

                              <div>
                                <div class="p-3 font-weight-bold text-primary">
                                  {{'chat.tabs.contacts.list.P.text' | translate}}
                                </div>

                                <ul class="list-unstyled contact-list">
                                  <li>
                                    <div class="form-check">
                                      <input type="checkbox" class="form-check-input" id="memberCheck11">
                                      <label class="form-check-label" for="memberCheck11">
                                        {{'chat.tabs.contacts.list.P.name' | translate}}</label>
                                    </div>
                                  </li>

                                </ul>
                              </div>

                              <div>
                                <div class="p-3 font-weight-bold text-primary">
                                  {{'chat.tabs.contacts.list.R.text' | translate}}
                                </div>

                                <ul class="list-unstyled contact-list">
                                  <li>
                                    <div class="form-check">
                                      <input type="checkbox" class="form-check-input" id="memberCheck12">
                                      <label class="form-check-label" for="memberCheck12">
                                        {{'chat.tabs.contacts.list.R.name' | translate}}</label>
                                    </div>
                                  </li>

                                </ul>
                              </div>

                              <div>
                                <div class="p-3 font-weight-bold text-primary">
                                  {{'chat.tabs.contacts.list.S.text' | translate}}
                                </div>

                                <ul class="list-unstyled contact-list">
                                  <li>
                                    <div class="form-check">
                                      <input type="checkbox" class="form-check-input" id="memberCheck13">
                                      <label class="form-check-label"
                                        for="memberCheck13">{{'chat.tabs.contacts.list.S.name' | translate}}</label>
                                    </div>
                                  </li>
                                </ul>
                              </div>
                            </perfect-scrollbar>
                          </div>

                        </div>
                      </div>
                    </div>
                    <div class="form-group">
                      <label class="form-label"
                        for="addgroupdescription-input">{{'chat.tabs.groups.modal.form.description.label' |
                        translate}}</label>
                      <textarea class="form-control" id="addgroupdescription-input" rows="3"
                        placeholder="{{'chat.tabs.groups.modal.form.description.placeholder' | translate}}"></textarea>
                    </div>
                  </form>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-link" data-dismiss="modal"
                    (click)="modal.dismiss('Cross click')">{{'chat.tabs.groups.modal.form.button.close' |
                    translate}}</button>
                  <button type="button" class="btn btn-primary">{{'chat.tabs.groups.modal.form.button.create' |
                    translate}}</button>
                </div>
              </div>
            </ng-template>
            <!-- End add group Modal -->

            <div class="search-box chat-search-box">
              <div class="input-group rounded-3">
                <button class="input-group-text text-muted bg-light pe-1 ps-3" type="button">
                  <i class="ri-search-line search-icon font-size-18"></i>
                </button>
                <input type="text" class="form-control bg-light" placeholder="Buscar distribuidores..."
                  (keyup)="GroupSearch()" id="searchGroup" autocomplete="off">
              </div>
            </div>
            <!-- end search-box -->
          </div>

          <!-- Start chat-group-list -->
          <perfect-scrollbar class="p-4 chat-message-list chat-group-list" data-simplebar>
            <ul class="list-unstyled chat-list group-list">
              <li *ngFor="let item of groups" (click)="showGroupChat($event,item.id)">
                <a href="javascript:void(0);">
                  <div class="d-flex align-items-center">
                    <div class="chat-user-img me-3 ms-0">
                      <div class="avatar-xs">
                        <span class="avatar-title rounded-circle bg-soft-primary text-primary">
                          {{item.nombredistribuidor.charAt(0)}}
                        </span>
                      </div>
                    </div>
                    <div class="flex-grow-1 overflow-hidden">
                      <h5 class="text-truncate font-size-14 mb-0">#{{item.nombredistribuidor}}
                        <span class="badge badge-soft-danger rounded-pill float-end">{{item.unread}}</span>
                      </h5>
                    </div>
                  </div>
                </a>
              </li>
            </ul>
          </perfect-scrollbar>
          <!-- End chat-group-list -->
        </div>
        <!-- End Groups content -->
      </div>
      <!-- End groups tab-pane -->

      <!-- Start contacts tab-pane -->
      <div id="pills-contacts" role="tabpanel" aria-labelledby="pills-contacts-tab" *ngIf="activetab === 4">
        <app-redessociales></app-redessociales>
      </div>
      <!-- End contacts tab-pane -->

      <div id="pills-contacts" role="tabpanel" aria-labelledby="pills-contacts-tab" *ngIf="activetab === 6">
        <app-redessocialesusuarios></app-redessocialesusuarios>
      </div>

      <div id="pills-contacts" role="tabpanel" aria-labelledby="pills-contacts-tab" *ngIf="activetab === 7">
        <app-metodos></app-metodos>
      </div>

      <div id="pills-contacts" role="tabpanel" aria-labelledby="pills-contacts-tab" *ngIf="activetab === 9">
        <app-publicaciones></app-publicaciones>
      </div>
      
      <!-- Start settings tab-pane -->
      <div id="pills-setting" role="tabpanel" aria-labelledby="pills-setting-tab" *ngIf="activetab === 5">
        <app-settings></app-settings>
      </div>
      <!-- End settings tab-pane -->
    </div>

  </div>


  <div class="chat-welcome-section" id="chat-welcome-section" *ngIf="activetab !== 7">
    <div class="row w-100 justify-content-center">
      <div class="col-xxl-5 col-md-7">
        <div class="p-4 text-center">
          <div class="avatar-xl mx-auto mb-4">
            <div class="avatar-title bg-secondary rounded-circle">
              <svg data-v-5e8ea5c2="" xmlns="http://www.w3.org/2000/svg" width="70px" height="65px" viewBox="0 0 24 24"
                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                class="feather feather-message-square">
                <path data-v-5e8ea5c2="" d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z">
                </path>
              </svg>
            </div>
          </div>
          <h4 class="d-inline px-3 py-2 rounded-pill bg-secondary text-white fs-4"> Iniciar ConversaciÃ³n</h4>
        </div>
      </div>
    </div>
  </div>

  <div class="chat-welcome-section tabMetodos" id="tabMetodos" *ngIf="activetab === 7">
    <div class="row w-100 justify-content-center">
      <div class="col-xxl-12 col-md-12">
        <div class="p-4 text-center">


          <h4 class=""> MÃ©todos</h4>
          <hr>
          <div class="" id="list_tablemetodos">
            <table class="table table-hover">
              <thead>
                <tr>
                  <th>Red sociales</th>
                  <th>Solicitud</th>
                  <th>Rama</th>
                  <th>Tipo de mÃ©todos</th>
                  <th>Resultado</th>
                  <th>Etiqueta</th>
                  <th>Acciones</th>

                </tr>
              </thead>
              <tbody id="bodyMetodos">
                <!--
                  <tr *ngFor="let item of MetodosList">
                      <td>{{item.nombrered}}</td>
                      <td>{{item.nombresolicitud}}</td>
                      <td>{{item.tipometodo}}</td>

                      <div class="dropdown" ngbDropdown>
                          <a href="javascript: void(0);" class="text-muted dropdown-toggle" ngbDropdownToggle data-toggle="dropdown"
                            aria-haspopup="true" aria-expanded="false">
                            <i class="ri-more-2-fill"></i>
                          </a>
                          <div class="dropdown-menu dropdown-menu-right" ngbDropdownMenu>
                            <a class="dropdown-item" href="javascript:void(0);">{{'chat.tabs.contacts.list.dropdown.item1' | translate}} <i
                                class="ri-share-line float-end text-muted"></i></a>
                            <a class="dropdown-item" href="javascript:void(0);">{{'chat.tabs.contacts.list.dropdown.item2' | translate}} <i
                                class="ri-forbid-line float-end text-muted"></i></a>
                            <a class="dropdown-item" href="javascript:void(0);" (click)="deleteMetodo($event,item.idmetodo)">{{'chat.tabs.contacts.list.dropdown.item3' | translate}} <i
                                class="ri-delete-bin-line float-end text-muted"></i></a>

                           <a class="dropdown-item" href="javascript:void(0);" data-toggle="modal"
                           data-target="#editMetodos-exampleModal" (click)="openMetodosModalEdit(content_edit,item.idmetodo,
                           item.idred,item.nombrered,item.tipometodo,item.idsolicitud,item.nombresolicitud,item.tipoaccion,item.rama,item.resultado,item.etiquetavalor)">Editar <i
                                  class="ri-edit-2-fill float-end text-muted"></i></a>
                          </div>
                        </div>

                  </tr> -->
              </tbody>
            </table>
          </div>


        </div>
      </div>
    </div>
  </div>






  <!-- Start User chat -->
  <div class="user-chat w-100 d-none" id="chat-room" *ngIf="activetab !== 7">
    <div class="d-lg-flex">
      <!-- start chat conversation section -->
      <div class="w-100 position-relative">
        <div class="p-3 p-lg-2 border-bottom">
          <div class="row align-items-center">
            <div class="col-sm-4 col-8">
              <div class="d-flex align-items-center">
                <div class="d-block d-lg-none me-2 ms-0">
                  <a href="javascript: void(0);" class="user-chat-remove text-muted font-size-16 p-2"
                    (click)="closeUserChat()"><i class="ri-arrow-left-s-line"></i></a>
                </div>
                <div class="me-3 ms-0">
                  <img *ngIf="userProfile" src="{{userProfile}}" class="rounded-circle avatar-xs" alt="">
                  <div class="avatar-xs" *ngIf="!userProfile">
                    <span class="avatar-title rounded-circle bg-soft-primary text-primary">
                      {{userName.charAt(0)}}
                    </span>
                  </div>
                </div>
                <div class="flex-grow-1 overflow-hidden">
                  <h5 class="font-size-16 mb-0 text-truncate">
                    <a href="javascript:void(0);" class="text-reset user-profile-show username"
                      (click)="onChatInfoClicked(userInfo)">{{userName}}</a>


                  </h5>
                  <i class="ri-record-circle-fill font-size-10 d-inline-block ms-1"
                    [ngClass]=" {'text-success': userStatus === 'En lÃ­nea','text-warning': userStatus === 'away'}"></i>
                  <strong style="font-size: 14px;">{{Distribuidor + ' - ' + RedSocial}}</strong>
                </div>
              </div>
            </div>
            <div class="col-sm-8 col-4">
              <ul class="list-inline user-chat-nav text-end mb-0">
                <li class="list-inline-item">
                  <div class="dropdown" ngbDropdown>
                    <button class="btn nav-btn dropdown-toggle" ngbDropdownToggle type="button" data-toggle="dropdown"
                      ngbTooltip="Buscar en conversaciÃ³n" aria-haspopup="true" aria-expanded="false">
                      <i class="ri-search-line"></i>
                    </button>
                    <div class="dropdown-menu p-0 dropdown-menu-right dropdown-menu-md" ngbDropdownMenu>
                      <div class="search-box p-2">
                        <input type="text" class="form-control bg-light border-0"
                          placeholder="{{'chat.chatpanelheader.search.placeholder' | translate}}"
                          (keyup)="MessageSearch()" id="searchMessage">
                      </div>
                    </div>
                  </div>
                </li>
                <li class="list-inline-item d-none d-lg-inline-block me-2 ms-0">
                  <button type="button" class="btn nav-btn" data-bs-toggle="modal" data-bs-target="#audiocallModal"
                    ngbTooltip="Ver publicaciÃ³n" (click)="openCallModal(callContent)">
                    <i class="ri-upload-cloud-2-fill"></i>
                  </button>
                </li>
                <ng-template #callContent let-modal>
                  <div class="modal-body">
                    <div class="text-center p-4">
                      <div class="col-sm-12">
                        <h4>{{RedSocial + ' - ' + Distribuidor}}</h4>
                        <a href="{{urlPublicacion}}" target="_blank">
                          Visitar la publicaciÃ³n
                        </a>
                      </div>
                      <p class="text-muted">Id PublicaciÃ³n: {{IdPublicacionLead}}</p>
                      <div class="container container-lg container-md container-sm container-xs">
                        <!-- AquÃ­ estÃ¡ el cambio para usar screenshotlayer -->
                        <img
                          src="https://api.screenshotlayer.com/api/capture?access_key=3c7737bcc6852526ad08f776e80773e4&url={{urlPublicacion}}&viewport=1440x900&width=500"
                          alt="Vista previa del sitio" style="max-width: 115%; height: 100%;">
                      </div>
                      <!--
                      <img src="../../../assets/images/publicacion.png" class="img-fluid"> -->


                      <!-- <div class="mt-5">
                        <ul class="list-inline mb-1">
                          <li class="list-inline-item px-2 me-2 ms-0">
                            <button type="button" class="btn btn-danger avatar-sm rounded-circle"
                              data-bs-dismiss="modal" (click)="modal.close('Close click')">
                              <span class="avatar-title bg-transparent font-size-20">
                                <i class="ri-close-fill"></i>
                              </span>
                            </button>
                          </li>
                          <li class="list-inline-item px-2">
                            <button type="button" class="btn btn-success avatar-sm rounded-circle">
                              <span class="avatar-title bg-transparent font-size-20">
                                <i class="ri-phone-fill"></i>
                              </span>
                            </button>
                          </li>
                        </ul>
                      </div> -->
                    </div>
                  </div>
                </ng-template>
                <li class="list-inline-item d-none d-lg-inline-block me-2 ms-0">
                  <button type="button" id="btnEnviarSeekop_{{idMensajeLeads}}" class="btn nav-btn"
                    data-bs-toggle="modal" data-bs-target="#videocallModal" ngbTooltip="Enviar a Seekop"
                    (click)="openVideoModal(videoContent)">
                    <i class="ri-send-plane-fill" id="btnenviarleads_{{idMensajeLeads}}"></i>
                    <i class="ri-check-line" id="btnenviadoleads_{{idMensajeLeads}}"
                      style="color:#14A44D;font-size: 1.2rem;display: none;"></i>
                  </button>
                </li>
                <ng-template #videoContent let-modal>
                  <div class="modal-body">
                    <div class="text-left p-4">
                      <div class="avatar-lg mx-auto">
                        <img src="https://www.sicopweb.com/8.0/workspace/styles/images/logos/sicop.png" alt="Seekop"
                          class="img-thumbnail rounded-circle">
                      </div>
                      <!-- <p class="text-center"> IdProspecto: {{idMensajeLeads}}</p>
                      <p class="text-center"> Nombre: {{userName}}</p>
                      <p class="text-center"> Apellido(s): {{LastName}}</p>
                      <p class="text-center"> TelÃ©fono/correo: {{Telefono}}/{{Email}}</p>
                      <p class="text-center"> PublicaciÃ³n/Auto de interÃ©s: {{AutoDeInteres}}</p>
                      <p class="text-center"> Distribuidor que atenderÃ¡ al prospecto: {{Distribuidor}}</p>
                    -->
                      <!--
                      <p class="text-center"> Red Social: {{RedSocial}}</p>
                      <p class="text-center"> Email: {{Email}}</p>
                      <p class="text-center"> IdPublicacion: {{IdPublicacionLead}}</p>
                      <p class="text-center"> Distribuidor: {{Distribuidor}}</p>
                      <p class="text-center">Los datos del interesado se enviarÃ¡n correctamente al distribuidor:
                        {{Distribuidor}} </p> -->
                      
                        <form [formGroup]="interesadoForm" (ngSubmit)="validateForm()">

                          <div class="mb-3">
                            <label class="form-label" for="nombre">Id Prospecto: </label>
                            <input 
                            
                            type="text" [value]="idMensajeLeads"
                            class="form-control" readonly>
                            
                          </div>

                          <div class="mb-3">
                            <label class="form-label" for="nombre">Nombre *:</label>
                            <input 
                            formControlName="nombre"
                            [ngClass]="{'is-invalid': submitted && f.nombre.errors }" type="text" 
                            class="form-control" [(ngModel)]="newInteresadoForm.nombre"
                            placeholder="" pattern="[A-Za-z\s]*" [value]="userName">
              
                            <div *ngIf="submitted && f.nombre.errors" class="invalid-feedback">
                                <div *ngIf="f.nombre.errors.required">
                                  EL campo es requerido!
                                </div>

                                <div *ngIf="f.nombre.errors.pattern">
                                  Ingresa un nombre vÃ¡lido (solo letras y sin espacios).
                                </div>

                                <div *ngIf="f.nombre.errors.minlength">
                                  Ingresa un valor con una longitud mayor o igual a 5 carÃ¡cteres!
                                </div>

                                <div *ngIf="f.nombre.errors.maxlength">
                                  Ingresa un valor con una longitud menor o igual a 20 carÃ¡cteres!
                                </div>
              
                            </div>
                          </div> 
                          
                          <div class="mb-3">
                            <label class="form-label" for="apellidoP">Apellido paterno *:</label>
                            <input 
                            formControlName="apellidoP"
                            [ngClass]="{'is-invalid': submitted && f.apellidoP.errors }" type="text" 
                            class="form-control" [(ngModel)]="newInteresadoForm.apellidop"
                            placeholder="" pattern="[A-Za-z\s]*">
              
                            <div *ngIf="submitted && f.apellidoP.errors" class="invalid-feedback">
                                <div *ngIf="f.apellidoP.errors.required">
                                  EL campo es requerido!
                                </div>
                                <div *ngIf="f.apellidoP.errors.pattern">
                                  Ingresa un apellido vÃ¡lido (solo letras y sin espacios).
                                </div>
                                <div *ngIf="f.apellidoP.errors.maxlength">
                                  Ingresa un valor con una longitud menor o igual a 20 carÃ¡cteres!
                                </div>
              
                            </div>
                          </div>
                          
                          <div class="mb-3">
                            <label class="form-label" for="apellidoM">Apellido materno *:</label>
                            <input 
                            formControlName="apellidoM"
                            [ngClass]="{'is-invalid': submitted && f.apellidoM.errors }" type="text" 
                            class="form-control" [(ngModel)]="newInteresadoForm.apellidom"
                            placeholder="" pattern="[A-Za-z\s]*">
              
                            <div *ngIf="submitted && f.apellidoM.errors" class="invalid-feedback">
                                <div *ngIf="f.apellidoM.errors.required">
                                  EL campo es requerido!
                                </div>
                                <div *ngIf="f.apellidoM.errors.pattern">
                                  Ingresa un apellido vÃ¡lido (solo letras y sin espacios).
                                </div>
                                <div *ngIf="f.apellidoM.errors.maxlength">
                                  Ingresa un valor con una longitud menor o igual a 20 carÃ¡cteres!
                                </div>
              
                            </div>
                          </div> 
                          
                          <div class="mb-3">
                            
                            <label class="form-label" for="telefono">Telefono *:</label>
                            <div class="input-group"> 
                            <input 
                            formControlName="telefono"
                            [ngClass]="{'is-invalid': submitted && f.telefono.errors }" type="number" 
                            class="form-control" [(ngModel)]="newInteresadoForm.telefono"
                            placeholder="5522123456"
                            (input)="onInputChange($event)" pattern="[0-9\s]*"> <!-- (input)="onInputChange($event)" -->
                              
                            <i _ngcontent-vco-c34="" id="btnVerificado_{{idMensajeLeads}}" class="ri-user-follow-fill" style="color: rgb(20, 164, 77); font-size: 1.5rem; display: none;"></i>
                            <i _ngcontent-vco-c34="" id="btnNoVerificado_{{idMensajeLeads}}" class="ri-user-unfollow-fill" style="color: #ff4444; font-size: 1.5rem; display: none;"></i>
                            
                          <!-- </div> -->
                            <div *ngIf="submitted && f.telefono.errors" class="invalid-feedback">
                                <div *ngIf="f.telefono.errors.required">
                                  EL campo es requerido!
                                </div>
                                <div *ngIf="f.telefono.errors.minLength">
                                  Ingresa un valor con una longitud igual a 10 carÃ¡cteres!
                                </div>
                                <div *ngIf="f.telefono.errors.pattern">
                                  Ingresa un telÃ©fono vÃ¡lido (solo nÃºmeros y sin espacios).
                                </div>

                                <!--
                                <div *ngIf="f.telefono.errors.min">
                                  Ingresa un telefono vÃ¡lido!
                                </div> -->
                                
                                <!--
                                <div *ngIf="f.telefono.errors.maxlength">
                                  Ingresa un valor con una longitud igual a 10 carÃ¡cteres!
                                </div>-->
              
                            </div>
                          </div>
                          </div>
                          
                          <div class="mb-3">
                            <label class="form-label" for="email">Email *:</label>
                            <input 
                            formControlName="email"
                            [ngClass]="{'is-invalid': submitted && f.email.errors}" type="email" 
                            class="form-control" [(ngModel)]="newInteresadoForm.email"
                            placeholder="prueba@gmail.com">
              
                            <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
                                <div *ngIf="f.email.errors.required">
                                  EL campo es requerido!
                                </div><!--
                                <div *ngIf="f.email.errors.maxlength">
                                  Ingresa un valor con una longitud menor o igual a 20 carÃ¡cteres!
                                </div> -->

                                <div *ngIf="interesadoForm.get('email').hasError('email')">
                                  Por favor, introduce un correo electrÃ³nico vÃ¡lido.
                                </div>
              
                            </div>
                          </div>

                          <div class="mb-3">
                            <label class="form-label" for="nombre">PublicaciÃ³n/Auto de interÃ©s: </label>
                            <input 
                            
                            type="text" [value]="AutoDeInteres"
                            class="form-control" readonly>
                          </div>

                          <div class="mb-3">
                            <label class="form-label" for="nombre">Distribuidor: </label>
                            <input 
                            
                            type="text" [value]="Distribuidor"
                            class="form-control" readonly>
                          </div>
                          
                          <div class="mb-3">
                            <label class="form-label" for="comentarios">Observaciones: </label>
                            
                            <textarea rows="3" cols="70" 
                            formControlName="comentarios"
                            type="text"
                            class="form-control" [(ngModel)]="newInteresadoForm.comentarios"
                            style="background-color: #f9f9f9;text-align: left;" 
                            placeholder="Agrega un comentario..."></textarea>
                            
                            <!-- [ngClass]="{'is-invalid': submitted && f.comentarios.errors }"
                            <div *ngIf="submitted && f.comentarios.errors" class="invalid-feedback">
                                <div *ngIf="f.comentarios.errors.required">
                                  EL campo es requerido!
                                </div>
                                <div *ngIf="f.comentarios.errors.maxlength">
                                  Ingresa un valor con una longitud menor o igual a 20 carÃ¡cteres!
                                </div>
              
                            </div> -->
                          </div> 
          
                          <div class="modal-footer">
                            <button type="button" class="btn btn-link" (click)="resetForm(); modal.dismiss('Cross click')">Cancelar</button>
                            <button type="submit" class="btn btn-primary" >Enviar</button> 
                          </div>
                        </form>  
                      
                      <!-- 
                      <p class="text-center">Â¿Desea continuar?</p>
                      <div class="mt-5">
                        <ul class="list-inline mb-1">
                          <li class="list-inline-item px-2 me-2 ms-0"> <!- avatar-sm rounded-circle ->
                            <button type="button" class="btn btn-link" (click)="modal.dismiss('Cross click')">Cancelar
                              <!-
                              <span class="avatar-title bg-transparent font-size-20">
                                <i class="ri-thumb-down-fill"></i>
                              </span> ->
                            </button>
                          </li>
                          <li class="list-inline-item px-2">
                            <button type="button" class="btn btn-primary" (click)="confirmSend()"> Enviar </button>
                              <- 
                              <button type="button" class="btn btn-primary" (click)="confirmSend()"> Enviar </button>
                                btn btn-success avatar-sm rounded-circle
                              <span class="avatar-title bg-transparent font-size-20">
                                <i class="ri-thumb-up-fill"></i>
                              </span> ->
                            
                          </li>
                        </ul>
                      </div> -->
                    </div>
                  </div>
                </ng-template>

                <!--
                <ng-template #contentInteresado let-modal>
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title font-size-16" id="addInteresado-exampleModalLabel">Enviar interesado a Seekop</h5>
                      <button type="button" class="btn-close" (click)="modal.dismiss('Cross click')">
                      </button>
                    </div>
                    <div class="modal-body p-4">
          
                      <form [formGroup]="interesadoForm" (ngSubmit)="validateForm()">
          
                        <div class="mb-3">
                          <label class="form-label" for="Nombre">Nombre *</label>
                          <input 
                          formControlName="nombreInteresado"
                          [ngClass]="{'is-invalid': submitted && f.nombreInteresado.errors }" type="text" 
                          class="form-control" [(ngModel)]="newRedSocial.nombre"
                          placeholder="">
            
                          <div *ngIf="submitted && f.nombreInteresado.errors" class="invalid-feedback">
                              <div *ngIf="f.nombreInteresado.errors.required">
                                EL campo es requerido!
                              </div>
                              <div *ngIf="f.nombreInteresado.errors.maxlength">
                                Ingresa un valor con una longitud menor o igual a 20 carÃ¡cteres!
                              </div>
            
                          </div>
                        </div> 

                        <div class="mb-3">
                          <label class="form-label" for="Apellido">Apellido *</label>
                          <input 
                          formControlName="Apellido"
                          [ngClass]="{'is-invalid': submitted && f.Apellido.errors }" type="text" 
                          class="form-control" [(ngModel)]="newRedSocial.nombre"
                          placeholder="">
            
                          <div *ngIf="submitted && f.Apellido.errors" class="invalid-feedback">
                              <div *ngIf="f.Apellido.errors.required">
                                EL campo es requerido!
                              </div>
                              <div *ngIf="f.Apellido.errors.maxlength">
                                Ingresa un valor con una longitud menor o igual a 20 carÃ¡cteres!
                              </div>
            
                          </div>
                        </div> 

                        <div class="mb-3">
                          <label class="form-label" for="Telefono">Telefono *</label>
                          <input 
                          formControlName="Telefono"
                          [ngClass]="{'is-invalid': submitted && f.Telefono.errors }" type="text" 
                          class="form-control" [(ngModel)]="newRedSocial.nombre"
                          placeholder="5522123456">
            
                          <div *ngIf="submitted && f.Telefono.errors" class="invalid-feedback">
                              <div *ngIf="f.Telefono.errors.required">
                                EL campo es requerido!
                              </div>
                              <div *ngIf="f.Telefono.errors.maxlength">
                                Ingresa un valor con una longitud igual a 10 carÃ¡cteres!
                              </div>
            
                          </div>
                        </div>
                        
                        
                        <div class="mb-3">
                          <label class="form-label" for="Email">Email *</label>
                          <input 
                          formControlName="Email"
                          [ngClass]="{'is-invalid': submitted && f.Email.errors }" type="text" 
                          class="form-control" [(ngModel)]="newRedSocial.nombre"
                          placeholder="Facebook">
            
                          <div *ngIf="submitted && f.Email.errors" class="invalid-feedback">
                              <div *ngIf="f.Email.errors.required">
                                EL campo es requerido!
                              </div>
                              <div *ngIf="f.Email.errors.maxlength">
                                Ingresa un valor con una longitud menor o igual a 20 carÃ¡cteres!
                              </div>
            
                          </div>
                        </div>
        
                        <div class="modal-footer">
          
                          <div class="row" id="rowmodalfooter">
                              <div class="col-lg-3">
                                <button type="button" id="testConnectionButton"
                                (click)="testConexion()" class="btn btn-primary btn_redesusuarios"
                                [disabled]="isButtonDisabled">Probar conexiÃ³n</button>
                                <small id="connectionMessage" class="form-text"></small>
                              </div>
                              <div class="col-lg-9">
                                <button type="button" class="btn btn-link" (click)="modal.dismiss('Cross click')">Cancelar</button>
                                <button type="submit" id="btnGuardarUsuario" class="btn btn-primary" (click)="asociarCuenta()" [disabled]="isButtonSaveDisabled">Agregar</button>
                              </div>
                          </div>
          
                        </div>
                      </form>
                    </div>
                  </div>
                </ng-template> -->


                <li class="list-inline-item d-none d-lg-inline-block">
                  <button type="button" class="btn nav-btn user-profile-show" (click)="onChatInfoClicked(userInfo)"
                    ngbTooltip="InformaciÃ³n del interesado">
                    <i class="ri-account-pin-circle-line"></i>
                  </button>
                </li>
                <li class="list-inline-item">
                  <div class="dropdown" ngbDropdown>
                    <button class="btn nav-btn dropdown-toggle" ngbDropdownToggle type="button" data-toggle="dropdown"
                      aria-haspopup="true" aria-expanded="false">
                      <i class="ri-more-fill"></i>
                    </button>
                    <div class="dropdown-menu dropdown-menu-right" ngbDropdownMenu>
                      <a class="dropdown-item d-block d-lg-none user-profile-show" (click)="showUserProfile()"
                        href="javascript: void(0);">{{'chat.chatpanelheader.dropdown.viewprofile' | translate}} <i
                          class="ri-user-2-line float-end text-muted"></i></a>
                      <a class="dropdown-item" href="javascript:void(0);">{{'chat.chatpanelheader.dropdown.archive' |
                        translate}} <i class="ri-archive-line float-end text-muted"></i></a>
                      <a class="dropdown-item" href="javascript:void(0);">{{'chat.chatpanelheader.dropdown.muted' |
                        translate}} <i class="ri-volume-mute-line float-end text-muted"></i></a>
                      <a class="dropdown-item" href="javascript:void(0);"
                        (click)="deleteAllMessage($event)">{{'chat.chatpanelheader.dropdown.delete' | translate}}<i
                          class="ri-delete-bin-line float-end text-muted"></i></a>
                    </div>
                  </div>
                </li>
                <li class="list-inline-item d-none d-lg-inline-block">
                  <button type="button" class="btn nav-btn user-profile-show" (click)="toggleContainerVisibility()"
                    ngbTooltip="Performance KPI">
                    <i class="ri-pie-chart-2-fill"></i>
                  </button>
                </li>
                <li class="list-inline-item d-none d-lg-inline-block">
                  <button type="button" class="btn nav-btn user-profile-show" (click)="toggleContainerVisibilityKPIs()"
                    ngbTooltip="KPIs Details">
                    <i class="ri-bar-chart-fill"></i>
                  </button>
                </li>

              </ul>
            </div>
          </div>
        </div>
        <!-- end chat user head -->
        <div id="users-chat" class="position-relative">
          <!-- start chat conversation -->
          <ngx-simplebar class="chat-conversation p-3 p-lg-4" #scrollRef>
            <ul class="list-unstyled mb-0" id="users-conversation">
              <li class="chats" *ngFor="let data of message;let i =index;"
                [ngClass]="{'right': data.align === 'right'}">
                <div class="conversation-list" *ngIf="!data.isToday">
                  <div class="chat-avatar" *ngIf="data.align !== 'right'">
                    <img src="{{userProfile}}" alt="" *ngIf="userProfile">
                    <div class="avatar-xs" *ngIf="!userProfile">
                      <span class="avatar-title rounded-circle bg-soft-primary text-primary">
                        {{(userName | translate).charAt(0)}}
                      </span>
                    </div>
                  </div>
                  <div class="chat-avatar" *ngIf="data.align === 'right'">
                    <img src="{{senderProfile}}" alt="">
                  </div>

                  <div class="user-chat-content">
                    <div class="ctext-wrap">
                      <div class="ctext-wrap-content" [ngClass]="{
                        'sentimiento-neutral': data.align === 'left' && data.sentimiento === 0,
                        'sentimiento-positive': data.align === 'left' && data.sentimiento === 1,
                        'sentimiento-negative': data.align === 'left' && data.sentimiento === 2
                      }">

                        <div class="replymessage-block mb-0 d-flex align-items-start" *ngIf="data.replayName">
                          <div class="flex-grow-1">
                            <h5 class="conversation-name">{{data.replayName}}</h5>
                            <p class="mb-0">{{data.replaymsg | translate}}</p>
                          </div>
                          <div class="flex-shrink-0">
                            <button type="button" class="btn btn-sm btn-link mt-n2 me-n3 font-size-18">
                            </button>
                          </div>
                        </div>
                        <p class="mb-0 messageText">
                          {{data.texto | translate}}
                          <!-- <span class="animate-typing" *ngIf="data.istyping">
                            <span class="dot ms-1"></span>
                            <span class="dot ms-1"></span>
                            <span class="dot ms-1"></span>
                          </span> -->
                        </p>
                        <ul class="list-inline message-img mb-0" *ngIf="data.isimage">
                          <li class="list-inline-item message-img-list"
                            *ngFor="let item of data.imageContent;let x=index;">
                            <div>
                              <a class="popup-img d-inline-block m-1 p-0" href="javascript:void(0);" title="Project 1">
                                <img :src="{{item.src}}" alt="" class="rounded border" (click)="openImage(i,x)">
                              </a>
                            </div>
                            <div class="message-img-link">
                              <ul class="list-inline mb-0">
                                <li class="list-inline-item">
                                  <a href="javascript:void(0);">
                                    <i class="ri-download-2-line"></i>
                                  </a>
                                </li>
                                <li class="list-inline-item dropdown" ngbDropdown>
                                  <a class="dropdown-toggle" href="javascript:void(0);" role="button" ngbDropdownToggle
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <i class="ri-more-fill"></i>
                                  </a>
                                  <div class="dropdown-menu" ngbDropdownMenu>
                                    <a class="dropdown-item" href="javascript:void(0);">{{'chat.messages.dropdown.copy'
                                      | translate}} <i class="ri-file-copy-line float-end text-muted"></i></a>
                                    <a class="dropdown-item" href="javascript:void(0);">{{'chat.messages.dropdown.save'
                                      | translate}} <i class="ri-save-line float-end text-muted"></i></a>
                                    <a class="dropdown-item"
                                      href="javascript:void(0);">{{'chat.messages.dropdown.forward' | translate}} <i
                                        class="ri-chat-forward-line float-end text-muted"></i></a>
                                    <a class="dropdown-item" href="javascript:void(0);"
                                      (click)="deleteMessage($event)">{{'chat.messages.dropdown.delete' | translate}}<i
                                        class="ri-delete-bin-line float-end text-muted"></i></a>
                                  </div>
                                </li>
                              </ul>
                            </div>
                          </li>
                        </ul>
                        <div class="card p-2 mb-2" *ngIf="data.isfile">
                          <div class="d-flex align-items-center">
                            <div class="avatar-sm me-3 ms-0">
                              <div class="avatar-title bg-soft-primary text-primary rounded font-size-20">
                                <i class="ri-file-text-fill"></i>
                              </div>
                            </div>
                            <div class="d-flex-body">
                              <div class="text-start">
                                <h5 class="font-size-14 mb-1">{{data.fileContent}}</h5>
                                <p class="text-muted font-size-13 mb-0">{{data.fileSize}}</p>
                              </div>
                            </div>

                            <div class="ms-4">
                              <ul class="list-inline mb-0 font-size-20">
                                <li class="list-inline-item">
                                  <a href="javascript:void(0);" class="text-muted">
                                    <i class="ri-download-2-line"></i>
                                  </a>
                                </li>
                                <li class="list-inline-item dropdown" ngbDropdown>
                                  <a class="dropdown-toggle text-muted" href="javascript:void(0);" ngbDropdownToggle
                                    role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <i class="ri-more-fill"></i>
                                  </a>
                                  <div class="dropdown-menu dropdown-menu-right" ngbDropdownMenu>
                                    <a class="dropdown-item"
                                      href="javascript:void(0);">{{'chat.messages.filedropdown.share' | translate}}
                                      <i class="ri-share-line float-end text-muted"></i></a>
                                    <a class="dropdown-item" href="javascript:void(0);"
                                      (click)="deleteMessage($event)">{{'chat.messages.filedropdown.delete' |
                                      translate}}
                                      <i class="ri-delete-bin-line float-end text-muted"></i></a>
                                  </div>
                                </li>
                              </ul>
                            </div>
                          </div>
                        </div>

                        <p class="chat-time mb-0" *ngIf="!data.istyping">
                          <i class="ri-time-line align-middle" *ngIf="data.time"></i>
                          <span class="align-middle">{{data.time | translate}}</span>
                        </p>
                      </div>

                      <div class="dropdown align-self-start" ngbDropdown *ngIf="data.message">
                        <a class="dropdown-toggle" href="javascript:void(0);" role="button" ngbDropdownToggle
                          data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          <i class="ri-more-2-fill"></i>
                        </a>
                        <div class="dropdown-menu" ngbDropdownMenu>
                          <a class="dropdown-item" href="javascript:void(0);"
                            (click)="replyMessage($event)">{{'chat.messages.dropdown.reply' | translate}} <i
                              class="ri-reply-line float-end text-muted"></i></a>
                          <a class="dropdown-item" href="javascript:void(0);"
                            (click)="copyMessage($event)">{{'chat.messages.dropdown.copy' | translate}} <i
                              class="ri-file-copy-line float-end text-muted"></i></a>
                          <a class="dropdown-item" href="javascript:void(0);">{{'chat.messages.dropdown.save' |
                            translate}} <i class="ri-save-line float-end text-muted"></i></a>
                          <a class="dropdown-item" href="javascript:void(0);"
                            (click)="centerModal(centerDataModal)">{{'chat.messages.dropdown.forward' | translate}} <i
                              class="ri-chat-forward-line float-end text-muted"></i></a>
                          <a class="dropdown-item" href="javascript:void(0);"
                            (click)="deleteMessage($event)">{{'chat.messages.dropdown.delete' | translate}}<i
                              class="ri-delete-bin-line float-end text-muted"></i></a>
                        </div>
                      </div>
                    </div>
                    <div class="ctext-wrap" *ngIf="data.message2">
                      <div class="ctext-wrap-content">
                        <p class="mb-0">
                          {{data.message2 | translate}sssss}
                        </p>
                        <p class="chat-time mb-0"><i class="ri-time-line align-middle"></i> <span
                            class="align-middle">{{data.time | translate}}</span></p>
                      </div>
                      <div class="dropdown align-self-start" ngbDropdown>
                        <a class="dropdown-toggle" href="javascript:void(0);" role="button" ngbDropdownToggle
                          data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          <i class="ri-more-2-fill"></i>
                        </a>
                        <div class="dropdown-menu" ngbDropdownMenu>
                          <a class="dropdown-item" href="javascript:void(0);"
                            (click)="replyMessage($event)">{{'chat.messages.dropdown.reply' | translate}} <i
                              class="ri-reply-line float-end text-muted"></i></a>
                          <a class="dropdown-item" href="javascript:void(0);"
                            (click)="copyMessage($event)">{{'chat.messages.dropdown.copy' | translate}} <i
                              class="ri-file-copy-line float-end text-muted"></i></a>
                          <a class="dropdown-item" href="javascript:void(0);">{{'chat.messages.dropdown.save' |
                            translate}} <i class="ri-save-line float-end text-muted"></i></a>
                          <a class="dropdown-item" href="javascript:void(0);"
                            (click)="centerModal(centerDataModal)">{{'chat.messages.dropdown.forward' | translate}} <i
                              class="ri-chat-forward-line float-end text-muted"></i></a>
                          <a class="dropdown-item" href="javascript:void(0);"
                            (click)="deleteMessage($event)">{{'chat.messages.dropdown.delete' | translate}}<i
                              class="ri-delete-bin-line float-end text-muted"></i></a>
                        </div>
                      </div>
                    </div>
                    <div class="conversation-name"><span *ngIf="data.align === 'right'">{{senderName |
                        translate}}</span><span *ngIf="data.align !== 'right'">{{userName | translate}}</span></div>
                  </div>
                </div>

                <div class="chat-day-title" *ngIf="data.isToday">
                  <span class="title">Today</span>
                </div>
              </li>
            </ul>
          </ngx-simplebar>
          <div class="alert alert-warning alert-dismissible copyclipboard-alert px-4 fade" id="copyClipBoard"
            role="alert">
            Message copied
          </div>
        </div>
        <!-- end chat conversation end -->

        <!-- start chat input section -->
        <div class="p-3 p-lg-4 border-top mb-0 send-msg">
          <form (ngSubmit)="messageSave()" [formGroup]="formData" id="chatinput-form" enctype="multipart/form-data">
            <div class="row no-gutters">
              <div class="col">
                <div>
                  <input type="text" class="form-control form-control-lg bg-light border-light"
                    placeholder="Escribir mensaje..." formControlName="message" [(ngModel)]="emoji" (blur)="onBlur()"
                    (focus)="onInputFocus()">
                </div>
              </div>
              <div class="col-auto">
                <div class="chat-input-links ms-md-2">
                  <ul class="list-inline mb-0">
                    <!-- <li class="list-inline-item">
                      <button type="button" class="btn btn-link text-decoration-none font-size-16 btn-lg waves-effect"
                        data-toggle="tooltip" data-placement="top" ngbTooltip="Emoji" (click)="toggleEmojiPicker()"
                        id="emoji-btn">
                        <i class="ri-emotion-happy-line"></i>
                      </button>
                      <emoji-mart class="emoji-mart" *ngIf="showEmojiPicker" (emojiSelect)="addEmoji($event)"
                        title="Pick your emojiâ¦"></emoji-mart>
                    </li> -->
                    <!-- <li class="list-inline-item">
                      <label id="files" class="btn btn-link text-decoration-none font-size-16 btn-lg waves-effect">
                        <i class="ri-attachment-line"></i>
                        <input name="fileInput" size="60" type="file" class="form-control-file d-none"
                          (change)="fileChange($event)">
                      </label>
                    </li> -->
                    <li class="list-inline-item">
                      <button type="submit"
                        class="btn btn-primary font-size-16 btn-lg chat-send waves-effect waves-light">
                        <i class="ri-send-plane-2-fill"></i>
                      </button>
                    </li>
                  </ul>
                </div>

              </div>
            </div>
          </form>
        </div>
        <!-- end chat input section -->

        <div _ngcontent-hes-c189="" class="replyCard">
          <div _ngcontent-hes-c189="" class="card mb-0">
            <div _ngcontent-hes-c189="" class="card-body py-3">
              <div _ngcontent-hes-c189="" class="replymessage-block mb-0 d-flex align-items-start">
                <div _ngcontent-hes-c189="" class="flex-grow-1">
                  <h5 _ngcontent-hes-c189="" class="conversation-name">You</h5>
                  <p _ngcontent-hes-c189="" class="mb-0">Wow that's great</p>
                </div>
                <div _ngcontent-hes-c189="" class="flex-shrink-0">
                  <button _ngcontent-hes-c189="" type="button" id="close_toggle"
                    class="btn btn-sm btn-link mt-n2 me-n3 fs-18 shadow-none" (click)="closeReplay()">
                    <i _ngcontent-xeu-c127="" class="ri-close-line float-end fs-5"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
      <!-- end chat conversation section -->

      <div *ngIf="isContainerVisible" class="  w-100 user-chat-show">

        <div class="w-100 position-relative">
          <div class="p-3">
            <div class="row align-items-center">
              <div class="row">
                <div class="col-md-4">
                  <div class="card">
                    <div class="card-body">
                      <h5 class="card-title">Leads Generados (Mes)</h5>
                      <br>
                      <p class="card-text">105</p>
                      <br>
                      <p class="small-detail"><i
                          class="ri-arrow-right-fill icono-personalizado"></i>&nbsp;&nbsp;&nbsp;<small>Crecimiento: 5%
                          este mes</small></p>
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="card ">
                    <div class="card-body">
                      <h5 class="card-title"> Leads Acumulados (Mes)</h5>
                      <br>
                      <p class="card-text">300</p>
                      <br>
                      <p class="small-detail"><i
                          class="ri-arrow-right-fill icono-personalizado"></i>&nbsp;&nbsp;&nbsp;<small>Incremento: 1%
                          este mes</small></p>
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="card">
                    <div class="card-body">
                      <h5 class="card-title">Promedio de Respuesta</h5>
                      <br>
                      <p class="card-text">2.1</p>
                      <br>
                      <p class="small-detail"><i
                          class="ri-arrow-right-fill icono-personalizado"></i>&nbsp;&nbsp;&nbsp;<small>ReducciÃ³n: 2%
                          este mes</small></p>
                    </div>
                  </div>
                </div>
              </div>
              <div id="container" class="row w-60 justify-content-center" style="height: 30%;">

              </div>

            </div>
          </div>
        </div>
      </div>

      <div *ngIf="isContainerVisibleKPIs" class="  w-100 user-chat-show">

        <div class="w-100 position-relative">
          <div class="p-3 ">
            <div class="row align-items-center">
              <div class="title-container">
                <h3 class="title">AnÃ¡lisis de Impacto en Redes Sociales - KPIs Mensuales</h3>
              </div>
              <br>
              <br>
              <br>
              <br>
              <br>
              <br>
              <div class="row">
                <!-- Me Gusta -->
                <div class="col-md-4">
                  <div class="card">
                    <div class="card-body">
                      <h5 class="card-title">Me Gusta (Mes)</h5>
                      <p class="card-text">1,250</p>
                      <p class="small-detail"><i class="ri-arrow-right-fill icono-personalizado"></i> Incremento: 15% este mes</p>
                    </div>
                  </div>
                </div>

                <!-- No Me Gusta -->
                <div class="col-md-4">
                  <div class="card">
                    <div class="card-body">
                      <h5 class="card-title">No Me Gusta (Mes)</h5>
                      <p class="card-text">300</p>
                      <p class="small-detail"><i class="ri-arrow-right-fill icono-personalizado"></i> Cambio: -5% este mes</p>
                    </div>
                  </div>
                </div>

                <!-- Me Enoja -->
                <div class="col-md-4">
                  <div class="card">
                    <div class="card-body">
                      <h5 class="card-title">Me Enoja (Mes)</h5>
                      <p class="card-text">150</p>
                      <p class="small-detail"><i class="ri-arrow-right-fill icono-personalizado"></i> Cambio: 10% este mes</p>
                    </div>
                  </div>
                </div>

                <!-- Me Encanta -->
                <div class="col-md-4">
                  <div class="card">
                    <div class="card-body">
                      <h5 class="card-title">Me Encanta (Mes)</h5>
                      <p class="card-text">2,000</p>
                      <p class="small-detail"><i class="ri-arrow-right-fill icono-personalizado"></i> Incremento: 20% este mes</p>
                    </div>
                  </div>
                </div>

                <!-- Visualizaciones -->
                <div class="col-md-4">
                  <div class="card">
                    <div class="card-body">
                      <h5 class="card-title">Visualizaciones (Mes)</h5>
                      <p class="card-text">8,000</p>
                      <p class="small-detail"><i class="ri-arrow-right-fill icono-personalizado"></i> Cambio: 25% este mes</p>
                    </div>
                  </div>
                </div>

                <!-- NÃºmero de Comentarios -->
                <div class="col-md-4">
                  <div class="card">
                    <div class="card-body">
                      <h5 class="card-title">Comentarios (Mes)</h5>
                      <p class="card-text">500</p>
                      <p class="small-detail"><i class="ri-arrow-right-fill icono-personalizado"></i> Cambio: -2% este mes</p>
                    </div>
                  </div>
                </div>

                <!-- Compartidos -->
                <div class="col-md-4">
                  <div class="card">
                    <div class="card-body">
                      <h5 class="card-title">Compartidos (Mes)</h5>
                      <p class="card-text">1,100</p>
                      <p class="small-detail"><i class="ri-arrow-right-fill icono-personalizado"></i> Incremento: 5% este mes</p>
                    </div>
                  </div>
                </div>
              </div>


            </div>
          </div>
        </div>
      </div>


      <!-- <app-profile-detail></app-profile-detail> -->
    </div>
  </div>
</div>

<!-- Chat Info Sidebar -->
<ng-template #userInfo let-offcanvas>
  <div class="offcanvas-header">
    <button type="button" class="btn-close" aria-label="Close" (click)="offcanvas.dismiss('Cross click')"></button>
  </div>

  <div class="offcanvas-body profile-offcanvas p-0">
    <div class="text-center p-4 border-bottom">
      <div class="mb-4">
        <!-- Si idRedSocial es 12, muestra la imagen de Facebook -->
        <img *ngIf="idRedSocial === 12" src="https://logodownload.org/wp-content/uploads/2014/09/facebook-logo-0.png"
          class="rounded-circle avatar-lg img-thumbnail" alt="Facebook">

        <!-- Si idRedSocial es 16, muestra la imagen de Mercado Libre, que es la default -->
        <img *ngIf="idRedSocial === 16"
          src="https://www.eleconomista.com.mx/__export/1660698219457/sites/eleconomista/img/2022/08/16/mercado_libre_4.jpg_1276653675.jpg"
          class="rounded-circle avatar-lg img-thumbnail" alt="Mercado Libre">


        <!-- Si idRedSocial es 16, muestra la imagen de Instagram -->
        <img *ngIf="idRedSocial === 17"
          src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/Instagram_logo_2016.svg/2048px-Instagram_logo_2016.svg.png"
          class="rounded-circle avatar-lg img-thumbnail" alt="Instagram">

        <!-- Si idRedSocial es 16, muestra la imagen de Tiktok -->
        <img *ngIf="idRedSocial === 18" src="https://cdn.pixabay.com/photo/2021/01/30/06/42/tiktok-5962992_640.png"
          class="rounded-circle avatar-lg img-thumbnail" alt="Tiktok">

        <!-- Si idRedSocial es 16, muestra la imagen de PInterest -->
        <img *ngIf="idRedSocial === 19" src="https://upload.wikimedia.org/wikipedia/commons/0/08/Pinterest-logo.png"
          class="rounded-circle avatar-lg img-thumbnail" alt="Pinterest">

             <!-- Si idRedSocial es 20, muestra la imagen de YOUTUBE -->
        <img *ngIf="idRedSocial === 20" src="https://w7.pngwing.com/pngs/982/799/png-transparent-youtube-logo-youtube-logo-internet-marketing-subscribe-television-label-text.png"
        class="rounded-circle avatar-lg img-thumbnail" alt="Pinterest">

        <!-- Si idRedSocial no es ni 12 ni 16, tambiÃ©n muestra la imagen de Mercado Libre -->

      </div>

      <h5 class="font-size-16 mb-1 text-truncate">{{RedSocial + ' - ' +Distribuidor}}</h5>
      <p class="text-muted text-truncate mb-1"><i class="ri-record-circle-fill font-size-10 me-1"
          [ngClass]=" {'text-success': userStatus === 'En lÃ­nea','text-warning': userStatus === 'away'}"></i>
        {{userStatu}}</p>
    </div>
    <!-- End profile user -->

    <!-- Start user-profile-desc -->
    <perfect-scrollbar class="p-4 user-profile-desc">
      <div class="text-muted">
        <p class="mb-4"> InformaciÃ³n del interesado</p>
      </div>

      <div id="profile-user-accordion" class="custom-accordion">
        <ngb-accordion #acc="ngbAccordion" activeIds="about" [closeOthers]="true">
          <ngb-panel cardClass="card shadow-none border mb-2" id="about">
            <ng-template ngbPanelTitle>
              <h5 class="font-size-14 m-0">
                <i class="ri-chat-smile-2-line me-2 align-middle d-inline-block"></i>
                Detalles del potencial cliente
              </h5>
            </ng-template>
            <ng-template ngbPanelContent>

              <div>
                <p class="text-muted mb-1">Nombre</p>
                <h5 class="font-size-14">{{userName}}</h5>
              </div>

              <div class="mt-4">
                <p class="text-muted mb-1">Apellido</p>
                <h5 class="font-size-14">{{LastName}}</h5>
              </div>

              <div class="mt-4">
                <p class="text-muted mb-1">Email</p>
                <h5 class="font-size-14">{{Email}}</h5>
              </div>

              <div class="mt-4">
                <p class="text-muted mb-1">TelÃ©fono</p>
                <h5 class="font-size-14">{{Telefono}}</h5>
              </div>


            </ng-template>
          </ngb-panel>
          <ngb-panel cardClass="card shadow-none border mb-2" id="file">
            <ng-template ngbPanelTitle>
              <h5 class="font-size-14 m-0">
                <i class="ri-upload-cloud-2-fill me-2 align-middle d-inline-block"></i>Detalles de la publicaciÃ³n
              </h5>
            </ng-template>
            <ng-template ngbPanelContent>
              <div>
                <p class="text-muted mb-1">Red Social</p>
                <h5 class="font-size-14">Mercado Libre</h5>
              </div>

              <div class="mt-4">
                <p class="text-muted mb-1">Distribuidor</p>
                <h5 class="font-size-14">{{Distribuidor}}</h5>
              </div>

              <div class="mt-4">
                <p class="text-muted mb-1">Id PublicaciÃ³n</p>
                <h5 class="font-size-14 mb-0">{{IdPublicacionLead}}</h5>
              </div>

              <div class="mt-4">
                <p class="text-muted mb-1">PublicaciÃ³n</p>
                <h5 class="font-size-14 mb-0">
                  <a href="{{LinkPublicacion}}" target="_blank">{{LinkPublicacion}}</a>
                </h5>
              </div>
              <!--               <div class="card p-2 border mb-2">
                <div class="d-flex align-items-center">
                  <div class="avatar-sm me-3 ms-0">
                    <div class="avatar-title bg-soft-primary text-primary rounded font-size-20">
                      <i class="ri-file-text-fill"></i>
                    </div>
                  </div>
                  <div class="flex-grow-1">
                    <div class="text-start">
                      <h5 class="font-size-14 mb-1">{{'chat.rightpanel.attachedfile.file1.name' | translate}}</h5>
                      <p class="text-muted font-size-13 mb-0">{{'chat.rightpanel.attachedfile.file1.size' | translate}}
                      </p>
                    </div>
                  </div>

                  <div class="ms-4 me-0">
                    <ul class="list-inline mb-0 font-size-18">
                      <li class="list-inline-item">
                        <a href="javascript: void(0);" class="text-muted px-1">
                          <i class="ri-download-2-line"></i>
                        </a>
                      </li>
                      <li class="list-inline-item dropdown" ngbDropdown>
                        <a class="dropdown-toggle text-muted px-1" ngbDropdownToggle href="javascript:void(0);"
                          role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          <i class="ri-more-fill"></i>
                        </a>
                        <div class="dropdown-menu dropdown-menu-right" ngbDropdownMenu>
                          <a class="dropdown-item"
                            href="javascript:void(0);">{{'chat.rightpanel.attachedfile.dropdown.action' |
                            translate}}</a>
                          <a class="dropdown-item"
                            href="javascript:void(0);">{{'chat.rightpanel.attachedfile.dropdown.another' |
                            translate}}</a>
                          <div class="dropdown-divider"></div>
                          <a class="dropdown-item"
                            href="javascript:void(0);">{{'chat.rightpanel.attachedfile.dropdown.delete' |
                            translate}}</a>
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>


              <div class="card p-2 border mb-2">
                <div class="d-flex align-items-center">
                  <div class="avatar-sm me-3 ms-0">
                    <div class="avatar-title bg-soft-primary text-primary rounded font-size-20">
                      <i class="ri-image-fill"></i>
                    </div>
                  </div>
                  <div class="flex-grow-1">
                    <div class="text-start">
                      <h5 class="font-size-14 mb-1">{{'chat.rightpanel.attachedfile.file2.name' | translate}}</h5>
                      <p class="text-muted font-size-13 mb-0">{{'chat.rightpanel.attachedfile.file2.name' | translate}}
                      </p>
                    </div>
                  </div>

                  <div class="ms-4 me-0">
                    <ul class="list-inline mb-0 font-size-18">
                      <li class="list-inline-item">
                        <a href="javascript: void(0);" class="text-muted px-1">
                          <i class="ri-download-2-line"></i>
                        </a>
                      </li>
                      <li class="list-inline-item dropdown" ngbDropdown>
                        <a class="dropdown-toggle text-muted px-1" ngbDropdownToggle href="javascript: void(0);"
                          role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          <i class="ri-more-fill"></i>
                        </a>
                        <div class="dropdown-menu dropdown-menu-right" ngbDropdownMenu>
                          <a class="dropdown-item"
                            href="javascript:void(0);">{{'chat.rightpanel.attachedfile.dropdown.action' |
                            translate}}</a>
                          <a class="dropdown-item"
                            href="javascript:void(0);">{{'chat.rightpanel.attachedfile.dropdown.another' |
                            translate}}</a>
                          <div class="dropdown-divider"></div>
                          <a class="dropdown-item"
                            href="javascript:void(0);">{{'chat.rightpanel.attachedfile.dropdown.delete' |
                            translate}}</a>
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>


              <div class="card p-2 border mb-2">
                <div class="d-flex align-items-center">
                  <div class="avatar-sm me-3 ms-0">
                    <div class="avatar-title bg-soft-primary text-primary rounded font-size-20">
                      <i class="ri-image-fill"></i>
                    </div>
                  </div>
                  <div class="flex-grow-1">
                    <div class="text-start">
                      <h5 class="font-size-14 mb-1">{{'chat.rightpanel.attachedfile.file3.name' | translate}}</h5>
                      <p class="text-muted font-size-13 mb-0">{{'chat.rightpanel.attachedfile.file3.size' | translate}}
                      </p>
                    </div>
                  </div>

                  <div class="ms-4 me-0">
                    <ul class="list-inline mb-0 font-size-18">
                      <li class="list-inline-item">
                        <a href="javascript:void(0);" class="text-muted px-1">
                          <i class="ri-download-2-line"></i>
                        </a>
                      </li>
                      <li class="list-inline-item dropdown" ngbDropdown>
                        <a class="dropdown-toggle text-muted px-1" ngbDropdownToggle href="javascript: void(0);"
                          role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          <i class="ri-more-fill"></i>
                        </a>
                        <div class="dropdown-menu dropdown-menu-right" ngbDropdownMenu>
                          <a class="dropdown-item"
                            href="javascript:void(0);">{{'chat.rightpanel.attachedfile.dropdown.action' |
                            translate}}</a>
                          <a class="dropdown-item"
                            href="javascript:void(0);">{{'chat.rightpanel.attachedfile.dropdown.another' |
                            translate}}</a>
                          <div class="dropdown-divider"></div>
                          <a class="dropdown-item"
                            href="javascript:void(0);">{{'chat.rightpanel.attachedfile.dropdown.delete' |
                            translate}}</a>
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>


              <div class="card p-2 border mb-2">
                <div class="d-flex align-items-center">
                  <div class="avatar-sm me-3 ms-0">
                    <div class="avatar-title bg-soft-primary text-primary rounded font-size-20">
                      <i class="ri-file-text-fill"></i>
                    </div>
                  </div>
                  <div class="flex-grow-1">
                    <div class="text-start">
                      <h5 class="font-size-14 mb-1">{{'chat.rightpanel.attachedfile.file4.name' | translate}}</h5>
                      <p class="text-muted font-size-13 mb-0">{{'chat.rightpanel.attachedfile.file4.size' | translate}}
                      </p>
                    </div>
                  </div>

                  <div class="ms-4 me-0">
                    <ul class="list-inline mb-0 font-size-18">
                      <li class="list-inline-item">
                        <a href="javascript:void(0);" class="text-muted px-1">
                          <i class="ri-download-2-line"></i>
                        </a>
                      </li>
                      <li class="list-inline-item dropdown" ngbDropdown>
                        <a class="dropdown-toggle text-muted px-1" ngbDropdownToggle href="javascript:void(0);"
                          role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          <i class="ri-more-fill"></i>
                        </a>
                        <div class="dropdown-menu dropdown-menu-right" ngbDropdownMenu>
                          <a class="dropdown-item"
                            href="javascript:void(0);">{{'chat.rightpanel.attachedfile.dropdown.action' |
                            translate}}</a>
                          <a class="dropdown-item"
                            href="javascript:void(0);">{{'chat.rightpanel.attachedfile.dropdown.another' |
                            translate}}</a>
                          <div class="dropdown-divider"></div>
                          <a class="dropdown-item"
                            href="javascript:void(0);">{{'chat.rightpanel.attachedfile.dropdown.delete' |
                            translate}}</a>
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
              </div> -->

            </ng-template>
          </ngb-panel>
        </ngb-accordion>
        <!-- End Attached Files card -->
      </div>
      <!-- end profile-user-accordion -->
    </perfect-scrollbar>
    <!-- end user-profile-desc -->

  </div><!--end offcanvas-body-->
</ng-template>

<!-- Center Modal -->
<ng-template #centerDataModal let-modal>
  <div class="modal-header">
    <h5 class="modal-title">Forward to...</h5>
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body">
    <div class="p-2 card-body">
      <div data-simplebar="init" style="max-height: 200px;">
        <div class="simplebar-wrapper" style="margin: 0px;">
          <div class="simplebar-height-auto-observer-wrapper">
            <div class="simplebar-height-auto-observer"></div>
          </div>
          <div class="simplebar-mask">
            <div class="simplebar-offset" style="right: 0px; bottom: 0px;">
              <div class="simplebar-content-wrapper" tabindex="0" role="region" aria-label="scrollable content"
                style="height: auto; overflow: hidden scroll;">
                <div class="simplebar-content" style="padding: 0px;">
                  <div>
                    <div class="p-3 font-weight-bold text-primary">A</div>
                    <ul class="list-unstyled contact-list">
                      <li>
                        <div class="form-check">
                          <input id="memberCheck1" type="checkbox" class="form-check-input form-check-input"
                            value="Albert Rodarte">
                          <label for="memberCheck1" class="form-check-label">Albert Rodarte</label>
                        </div>
                      </li>
                      <li>
                        <div class="form-check">
                          <input id="memberCheck2" type="checkbox" class="form-check-input form-check-input"
                            value="Allison Etter">
                          <label for="memberCheck2" class="form-check-label">Allison Etter</label>
                        </div>
                      </li>
                    </ul>
                  </div>
                  <div>
                    <div class="p-3 font-weight-bold text-primary">C</div>
                    <ul class="list-unstyled contact-list">
                      <li>
                        <div class="form-check">
                          <input id="memberCheck3" type="checkbox" class="form-check-input form-check-input"
                            value="Craig Smiley">
                          <label for="memberCheck3" class="form-check-label">Craig Smiley</label>
                        </div>
                      </li>
                    </ul>
                  </div>
                  <div>
                    <div class="p-3 font-weight-bold text-primary">D</div>
                    <ul class="list-unstyled contact-list">
                      <li>
                        <div class="form-check">
                          <input id="memberCheck4" type="checkbox" class="form-check-input form-check-input"
                            value="Daniel Clay">
                          <label for="memberCheck4" class="form-check-label">Daniel Clay</label>
                        </div>
                      </li>
                      <li>
                        <div class="form-check">
                          <input id="memberCheck5" type="checkbox" class="form-check-input form-check-input"
                            value="Doris Brown">
                          <label for="memberCheck5" class="form-check-label">Doris Brown</label>
                        </div>
                      </li>
                    </ul>
                  </div>
                  <div>
                    <div class="p-3 font-weight-bold text-primary">I</div>
                    <ul class="list-unstyled contact-list">
                      <li>
                        <div class="form-check">
                          <input id="memberCheck6" type="checkbox" class="form-check-input form-check-input"
                            value="Iris Wells">
                          <label for="memberCheck6" class="form-check-label">Iris Wells</label>
                        </div>
                      </li>
                    </ul>
                  </div>
                  <div>
                    <div class="p-3 font-weight-bold text-primary">J</div>
                    <ul class="list-unstyled contact-list">
                      <li>
                        <div class="form-check">
                          <input id="memberCheck7" type="checkbox" class="form-check-input form-check-input"
                            value="Juan Flakes">
                          <label for="memberCheck7" class="form-check-label">Juan Flakes</label>
                        </div>
                      </li>
                      <li>
                        <div class="form-check">
                          <input id="memberCheck8" type="checkbox" class="form-check-input form-check-input"
                            value="John Hall">
                          <label for="memberCheck8" class="form-check-label">John Hall</label>
                        </div>
                      </li>
                      <li>
                        <div class="form-check">
                          <input id="memberCheck9" type="checkbox" class="form-check-input form-check-input"
                            value="Joy Southern">
                          <label for="memberCheck9" class="form-check-label">Joy Southern</label>
                        </div>
                      </li>
                    </ul>
                  </div>
                  <div>
                    <div class="p-3 font-weight-bold text-primary">M</div>
                    <ul class="list-unstyled contact-list">
                      <li>
                        <div class="form-check">
                          <input id="memberCheck10" type="checkbox" class="form-check-input form-check-input"
                            value="Mary Farmer">
                          <label for="memberCheck10" class="form-check-label">Mary Farmer</label>
                        </div>
                      </li>
                      <li>
                        <div class="form-check">
                          <input id="memberCheck11" type="checkbox" class="form-check-input form-check-input"
                            value="Mark Messer">
                          <label for="memberCheck11" class="form-check-label">Mark Messer</label>
                        </div>
                      </li>
                      <li>
                        <div class="form-check">
                          <input id="memberCheck12" type="checkbox" class="form-check-input form-check-input"
                            value="Michael Hinton">
                          <label for="memberCheck12" class="form-check-label">Michael Hinton</label>
                        </div>
                      </li>
                    </ul>
                  </div>
                  <div>
                    <div class="p-3 font-weight-bold text-primary">O</div>
                    <ul class="list-unstyled contact-list">
                      <li>
                        <div class="form-check">
                          <input id="memberCheck13" type="checkbox" class="form-check-input form-check-input"
                            value="Ossie Wilson">
                          <label for="memberCheck13" class="form-check-label">Ossie Wilson</label>
                        </div>
                      </li>
                    </ul>
                  </div>
                  <div>
                    <div class="p-3 font-weight-bold text-primary">P</div>
                    <ul class="list-unstyled contact-list">
                      <li>
                        <div class="form-check">
                          <input id="memberCheck14" type="checkbox" class="form-check-input form-check-input"
                            value="Phillis Griffin">
                          <label for="memberCheck14" class="form-check-label">Phillis Griffin</label>
                        </div>
                      </li>
                      <li>
                        <div class="form-check">
                          <input id="memberCheck15" type="checkbox" class="form-check-input form-check-input"
                            value="Paul Haynes">
                          <label for="memberCheck15" class="form-check-label">Paul Haynes</label>
                        </div>
                      </li>
                    </ul>
                  </div>
                  <div>
                    <div class="p-3 font-weight-bold text-primary">R</div>
                    <ul class="list-unstyled contact-list">
                      <li>
                        <div class="form-check">
                          <input id="memberCheck16" type="checkbox" class="form-check-input form-check-input"
                            value="Rocky Jackson">
                          <label for="memberCheck16" class="form-check-label">Rocky Jackson</label>
                        </div>
                      </li>
                    </ul>
                  </div>
                  <div>
                    <div class="p-3 font-weight-bold text-primary">S</div>
                    <ul class="list-unstyled contact-list">
                      <li>
                        <div class="form-check">
                          <input id="memberCheck17" type="checkbox" class="form-check-input form-check-input"
                            value="Sara Muller">
                          <label for="memberCheck17" class="form-check-label">Sara Muller</label>
                        </div>
                      </li>
                      <li>
                        <div class="form-check">
                          <input id="memberCheck18" type="checkbox" class="form-check-input form-check-input"
                            value="Simon Velez">
                          <label for="memberCheck18" class="form-check-label">Simon Velez</label>
                        </div>
                      </li>
                      <li>
                        <div class="form-check">
                          <input id="memberCheck19" type="checkbox" class="form-check-input form-check-input"
                            value="Steve Walker">
                          <label for="memberCheck19" class="form-check-label">Steve Walker</label>
                        </div>
                      </li>
                    </ul>
                  </div>
                  <div>
                    <div class="p-3 font-weight-bold text-primary">H</div>
                    <ul class="list-unstyled contact-list">
                      <li>
                        <div class="form-check">
                          <input id="memberCheck20" type="checkbox" class="form-check-input form-check-input"
                            value="Hanah Mile">
                          <label for="memberCheck20" class="form-check-label">Hanah Mile</label>
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="simplebar-placeholder" style="width: auto; height: 1666px;"></div>
        </div>
        <div class="simplebar-track simplebar-horizontal" style="visibility: hidden;">
          <div class="simplebar-scrollbar" style="width: 0px; display: none;"></div>
        </div>
        <div class="simplebar-track simplebar-vertical" style="visibility: visible;">
          <div class="simplebar-scrollbar" style="height: 25px; transform: translate3d(0px, 0px, 0px); display: block;">
          </div>
        </div>
      </div>
      <div class="border-0 modal-footer"><button class="btn btn-primary">Forward</button></div>
    </div>
  </div>
</ng-template>
